(this.webpackJsonpvgig=this.webpackJsonpvgig||[]).push([[0],{1054:function(e,t){},1056:function(e,t){},1079:function(e,t){},1080:function(e,t){},1086:function(e,t,n){e.exports=n.p+"static/media/unacorda_C3.4c254059.mp3"},1087:function(e,t,n){e.exports=n.p+"static/media/jarbleambiencepad_C3.3312bc03.mp3"},1095:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(36),o=n.n(c),i=(n(967),n(25)),u=n(42),l=n(159),s=n(47),f=n(26),d=n(12),m=n(1131),b=n(1141),p=n(45);function h(){var e=Object(i.a)(["\n  margin-top: 92px;\n  text-align: center;\n"]);return h=function(){return e},e}function g(){var e=Object(i.a)(["\n  p {\n    margin-top: 24px;\n    margin-bottom: 24px;\n  }\n"]);return g=function(){return e},e}function v(){var e=Object(i.a)([""]);return v=function(){return e},e}function O(){var e=Object(i.a)(["\n  position: fixed;\n  padding: 25px;\n  top: 0;\n  right: 0%;\n"]);return O=function(){return e},e}function E(){var e=Object(i.a)(["\n  max-width: 768px;\n  margin: auto;\n  margin-top: 100px;\n"]);return E=function(){return e},e}var j=n(883).version,y=f.b.div(E()),x=f.b.div(O()),w=f.b.section(v()),k=f.b.section(g()),I=f.b.div(h()),S=function(){var e=Object(a.useState)(function(e){for(var t="",n="abcdefghijklmnopqrstuvwxyz0123456789",a=n.length,r=0;r<e;r++)t+=n.charAt(Math.floor(Math.random()*a));return t}(4)),t=Object(d.a)(e,2),n=t[0],c=t[1],o=Object(s.f)();return r.a.createElement(y,null,r.a.createElement(x,null,j),r.a.createElement(w,null,"Welcome to vgig,",r.a.createElement("br",null),"the virtual concert hall for everyone."),r.a.createElement(k,null,r.a.createElement("p",null),r.a.createElement(I,null,r.a.createElement(b.a,{value:n,onChange:function(e){return c(e.target.value)}}),r.a.createElement(m.a,{onClick:function(){"running"!==p.e.state&&p.e.resume(),o.push("/halls/".concat(n))}},"enter"))))},C=n(13),M=n(1137),A=n(1135),T=n(1136),R=n(1143),N=n(1138),D=n(929),B=n.n(D),_=n(1145),U=n(17),z=n(177),L=n.n(z),G=function(e){return e.includes("#")||e.includes("+")};var H=function(e){var t=Object(z.connect)(e),n=new Map;return t.on("connect",console.log),t.on("disconnect",console.log),t.on("error",console.error),t.on("message",(function(e,t){n.forEach((function(n,a){(e===a||G(a)&&function(e,t){if(e===t)return[];if("#"===t)return[e];for(var n=[],a=String(e).split("/"),r=String(t).split("/"),c=0,o=a.length;c<o;c++)if("+"===r[c])n.push(a[c]);else{if("#"===r[c])return n.push(a.slice(c).join("/")),n;if(r[c]!==a[c])return null}return"#"===r[c]&&(c+=1),c===r.length?n:null}(e,a))&&n.forEach((function(e){try{e(a,JSON.parse(t.toString()))}catch(n){e(a,{})}}))}))})),function(){return{subscribe:function(e,a){var r=n.get(e);if(n.set(e,[].concat(Object(U.a)(r||[]),[a])),t.subscribe(e),!n.get(e))throw new Error("useClient: ".concat(e," does not exist"))},publish:function(e,n){if(G(e))throw new Error("useTopic: Tried publishing on wildcard topic ".concat(e));t.publish(e,JSON.stringify(n))},unsubscribe:function(e){n.delete(e),t.unsubscribe(e)},getClient:function(){return t}}}}("wss://try:try@broker.shiftr.io"),P="vgig",F=L.a.connect("wss://try:try@broker.shiftr.io"),J=function(e,t){F.publish(e,JSON.stringify(t))},W=function(e){for(var t="",n="abcdefghijklmnopqrstuvwxyz0123456789",a=n.length,r=0;r<e;r++)t+=n.charAt(Math.floor(Math.random()*a));return t},V=r.a.createContext(),K=function(e){var t=e.children,n=Object(a.useState)({userId:W(8)}),c=Object(d.a)(n,2),o=c[0],i=c[1];return r.a.createElement(V.Provider,{value:[o,i]},t)},Y=V,q="ADDUSER",X="SETUSERS",$="HEARTBEAT",Q="SETNAME",Z={users:[],heartBeats:new Map},ee=n(96),te=n(1142),ne="SETVOLUMEINTERACTIONS",ae="SETVOLUMESTAGE",re="SETGLITCH",ce={volumeInteractions:-64,volumeStage:-32,glitch:!0},oe="ADDMESSAGE",ie={messages:[]},ue="ADDTOHISTORY",le={history:[]},se=function(e,t){return{type:ue,payload:{user:e,text:t}}},fe=Object(ee.c)({users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $:var n=new Map(e.heartBeats),a=Object(U.a)(e.users);return n.set(t.payload.value,Date.now()),n.forEach((function(e,t){if(Date.now()>e+3e4){n.delete(t);var r=a.indexOf(t);-1!==r&&a.splice(r,1)}})),Object(C.a)({},e,{heartBeats:n,users:a});case X:var r=Object(U.a)(e.users);return t.payload.value.forEach((function(e){var t=!1;r.forEach((function(n){n.id===e.id&&(t=!0)})),t||r.push(e)})),Object(C.a)({},e,{users:r.sort((function(e,t){return e.id<t.id}))});case q:var c=Object(U.a)(e.users),o=!1;return c.forEach((function(e){e.id===t.payload.id&&(o=!0)})),o||c.push({id:t.payload.id,name:t.payload.name}),Object(C.a)({},e,{users:c.sort((function(e,t){return e.id<t.id}))});case Q:var i=Object(U.a)(e.users);return i.forEach((function(e,n){e.id===t.payload.id&&(i[n].name=t.payload.name)})),Object(C.a)({},e,{users:i});default:return e}},mixer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne:return Object(C.a)({},e,{volumeInteractions:t.payload.value});case ae:return Object(C.a)({},e,{volumeStage:t.payload.value});case re:return Object(C.a)({},e,{glitch:t.payload.value});default:return e}},chat:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case oe:var n=Object(U.a)(e.messages);return n.unshift(Object(C.a)({},t.payload.message,{time:new Date,type:"CHAT"})),n=n.splice(0,100),Object(C.a)({},e,{messages:n});default:return e}},console:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ue:var n=Object(U.a)(e.history);return n.unshift(Object(C.a)({},t.payload,{time:new Date,type:"SYSTEM"})),n=n.slice(0,1e3),Object(C.a)({},e,{history:n})}return e}}),de=n(1132),me=n(1133),be=n(183),pe=n(1134),he=n(1146),ge=Object(te.a)(),ve=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ee.d,Oe=Object(ee.e)((function(e,t){return"RESET"===t.type?fe(void 0,t):"SETSTATE"===t.type?fe(t.payload,{type:"IGNORE"}):fe(e,t)}),ve(Object(ee.a)(ge)));ge.run((function(e){return e.pipe(Object(de.a)((function(e){return"STARTHEARTBEAT"===e.type})),Object(me.a)((function(t){return Object(he.a)(3e4).pipe(Object(be.a)((function(e){return{type:"HEARTBEAT",payload:{value:1}}})),Object(pe.a)(e.ofType("STOPHEARTBEAT")))})))})),Oe.dispatch({type:"INIT"});var Ee=Oe;function je(){var e=Object(i.a)(["\n      background-color: ",";\n    "]);return je=function(){return e},e}function ye(){var e=Object(i.a)(["\n  width: 100%;\n  text-transform: uppercase;\n  color: white;\n  text-align: center;\n  ","\n"]);return ye=function(){return e},e}function xe(){var e=Object(i.a)(["\n      border-bottom: 3px solid ",";\n      border-left: 1px solid white;\n      border-right: 1px solid white;\n    "]);return xe=function(){return e},e}function we(){var e=Object(i.a)(["\n  height: 100%;\n  text-align: left;\n  ","\n"]);return we=function(){return e},e}var ke=f.b.div(we(),(function(e){return e.color&&Object(f.a)(xe(),e.color)})),Ie=f.b.section(ye(),(function(e){return e.color&&Object(f.a)(je(),e.color)})),Se=function(e){var t=e.title,n=e.color,a=e.children;return r.a.createElement(ke,{color:n},r.a.createElement(Ie,{color:n},t),a)};function Ce(){var e=Object(i.a)(["\n  height: 25px;\n  width: 25px;\n  background-color: ",";\n  border-radius: 50%;\n  display: inline-block;\n  margin: 5px;\n  border: 1px solid black;\n"]);return Ce=function(){return e},e}function Me(){var e=Object(i.a)(["\n  text-align: left;\n"]);return Me=function(){return e},e}function Ae(){var e=Object(i.a)(["\n  margin-top: 16px;\n  margin-bottom: 16px;\n"]);return Ae=function(){return e},e}var Te=f.b.div(Ae()),Re=f.b.div(Me()),Ne=f.b.div(Ce(),(function(e){return e.active?"rgb(255,170,100)":"rgb(254, 250, 170)"})),De=function(e){var t=e.id,n=Object(u.b)(),c=H(),o=c.subscribe,i=c.unsubscribe,l=Object(a.useContext)(Y),s=Object(d.a)(l,2),f=s[0],m=(s[1],Object(u.c)((function(e){return e.users.users})));Object(a.useCallback)((function(){return m}));return Object(a.useEffect)((function(){t&&(o("".concat(P,"/").concat(t,"/getUsers"),(function(e,n){n.from&&n.from!==f.userId&&J("".concat(P,"/").concat(t,"/setUsers"),Ee.getState().users.users)})),o("".concat(P,"/").concat(t,"/setUsers"),(function(e,t){n({type:X,payload:{value:t}})})),o("".concat(P,"/").concat(t,"/enterLobby"),(function(e,t){n(function(e,t){return{type:q,payload:{id:e,name:t}}}(t.userId,"anonymous "))})),o("".concat(P,"/").concat(t,"/alive"),(function(e,t){var a;n((a=t.userId,{type:$,payload:{value:a}}))})),J("".concat(P,"/").concat(t,"/getUsers"),{from:f.userId}),setInterval((function(){J("".concat(P,"/").concat(t,"/alive"),{userId:f.userId})}),3e4))}),[t],(function(){i("".concat(P,"/").concat(t,"/getUsers"))})),r.a.createElement(Te,null,r.a.createElement(Re,null,m.map((function(e,t){m.length;return r.a.createElement(_.a,{key:e.id,title:e.name,placement:"right-start"},r.a.createElement(Ne,{key:e.id,active:f.userId===e.id}))}))))};function Be(){var e=Object(i.a)([""]);return Be=function(){return e},e}function _e(){var e=Object(i.a)(["\n  margin-top: 24px !important;\n  display: flex;\n  flex-direction: row-reverse;\n"]);return _e=function(){return e},e}function Ue(){var e=Object(i.a)([""]);return Ue=function(){return e},e}var ze=f.b.div(Ue()),Le=f.b.section(_e()),Ge=Object(f.b)(m.a)(Be()),He=function(e){var t=e.onEnter,n=H(),c=(n.subscribe,n.publish),o=(n.getClient,Object(a.useState)("")),i=Object(d.a)(o,2),u=i[0],l=i[1],s=Object(a.useContext)(Y),f=Object(d.a)(s,1)[0];return r.a.createElement(ze,null,r.a.createElement("div",null,"hello, ",r.a.createElement("br",null),"please enter your name and enjoy the show."),r.a.createElement(b.a,{fullWidth:!0,label:"name",value:u,onChange:function(e){l(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&""!==u&&(c("".concat(P,"/").concat(f.hallId,"/setUserName"),{id:f.userId,name:u}),l(""),t(u))}}),r.a.createElement("br",null),r.a.createElement(Le,null,r.a.createElement(Ge,{color:"primary",variant:"outlined",onClick:function(){""!==u&&(c("".concat(P,"/").concat(f.hallId,"/setUserName"),{id:f.userId,name:u}),l(""),t(u))}},"enter")))},Pe=144,Fe=128,Je=(n(1086),n(1087),n(0)),We=n(891),Ve=n(22),Ke=n(934),Ye=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("mesh",{rotation:[-Math.PI/3,0,0],position:[0,-5,0]},r.a.createElement("planeBufferGeometry",{attach:"geometry",args:[100,100]}),r.a.createElement("meshStandardMaterial",{attach:"material",color:"rgb(64,32,32)"})))},qe=n(57),Xe=(n(105),new Je.BoxBufferGeometry(1,1,1)),$e=new Je.MeshNormalMaterial,Qe=function(){return Math.random()*Math.PI};function Ze(e){e.change;var t=Object(qe.a)(e,["change"]),n=Object(a.useState)(0),c=Object(d.a)(n,2),o=c[0];c[1];if(o>0)for(var i=performance.now()+1;performance.now()<i;);return r.a.createElement("mesh",Object.assign({},t,{geometry:Xe}),r.a.createElement("meshBasicMaterial",{attach:"material",color:o}))}function et(){var e=Object(a.useState)(!1),t=Object(d.a)(e,2),n=t[0],c=t[1];Object(a.useEffect)((function(){var e=setInterval((function(){return c((function(e){return!e}))}),2e3);return function(){return clearInterval(e)}}));var o=(0,Object(Ve.h)().viewport)().factor,i=o.width,u=o.height,l=i/100/20;return new Array(600).fill().map((function(e,t){var a=-i/100/2+l/2,c=u/100/2-l/2,o=t%20*l,s=Math.floor(t/20)*-l;return r.a.createElement(Ze,{key:t,change:n,scale:[l,l,l],position:[a+o,c+s,0]})}))}function tt(){var e=0,t=Object(a.useRef)(),n=Object(a.useState)((function(){return[Qe(),Qe(),Qe()]})),c=Object(d.a)(n,1)[0];return Object(Ve.f)((function(){return t.current&&t.current.rotation.set(c[0]+(e+=.01),c[1]+e,c[2]+e)})),r.a.createElement("mesh",{ref:t,geometry:Xe,material:$e,scale:[2,2,2]})}function nt(){return new Array(1e3).fill().map((function(e,t){return r.a.createElement(tt,{key:t})}))}var at=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(et,null),r.a.createElement(nt,null))};Object(Ve.e)(We);var rt=function(e){var t=e.position,n=Object(a.useRef)(null);return Object(Ve.f)((function(){n.current.rotation.x=n.current.rotation.y+=.01})),r.a.createElement("mesh",{position:t,ref:n},r.a.createElement("boxBufferGeometry",{attach:"geometry",args:[1,1,1]}),r.a.createElement("meshStandardMaterial",{attach:"material",color:"blue"}))},ct=function(e){e.analyzer;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ke.a,{color:"white",anchorX:"center",anchorY:"middle"},"here will be an audio visualisation"),r.a.createElement(Ye,null),r.a.createElement(rt,{position:[-2,0,0]}),r.a.createElement(rt,{position:[-1,2,0]}),r.a.createElement(rt,{position:[2,3,0]}),r.a.createElement("mesh",null,r.a.createElement("bufferGeometry",null)),r.a.createElement(at,null))},ot=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("ambientLight",{intensity:.4}),r.a.createElement("pointLight",{position:[-10,-5,5],intensity:.4}),r.a.createElement("pointLight",{position:[7,-3,5],intensity:.4}))},it=n(930),ut=n(113),lt=n(28),st=function(){var e=Object(u.c)((function(e){return e.mixer.glitch}));return r.a.createElement(ut.c,null,r.a.createElement(ut.b,{focusDistance:0,focalLength:.02,bokehScale:2,height:480}),r.a.createElement(ut.a,{luminanceThreshold:0,luminanceSmoothing:.9,height:300}),r.a.createElement(ut.e,{opacity:.02}),r.a.createElement(ut.f,{eskil:!1,offset:.1,darkness:1.1}),r.a.createElement(ut.d,{delay:[1.5,3.5],duration:[.6,1],strength:[.3,1],mode:lt.n.SPORADIC,active:e,ratio:.85}))},ft=n(894),dt=n.n(ft),mt=n(895),bt=n.n(mt),pt=n(896),ht=n.n(pt),gt=n(897),vt=n.n(gt),Ot=n(898),Et=n.n(Ot),jt=n(899),yt=n.n(jt),xt=n(900),wt=n.n(xt),kt=n(901),It=n.n(kt),St=n(902),Ct=n.n(St),Mt=n(903),At=n.n(Mt),Tt=n(904),Rt=n.n(Tt),Nt=n(905),Dt=n.n(Nt),Bt=n(906),_t=n.n(Bt),Ut=n(907),zt=n.n(Ut),Lt=n(908),Gt=n.n(Lt),Ht=n(909),Pt=n.n(Ht);function Ft(){var e=Object(i.a)(["\n  width: 100%;\n  height: 66.66%;\n"]);return Ft=function(){return e},e}var Jt=[dt.a,bt.a,ht.a,vt.a,Et.a,yt.a,wt.a,It.a,Ct.a,At.a,Rt.a,Dt.a,_t.a,zt.a,Gt.a,Pt.a],Wt=f.b.div(Ft()),Vt=function(e){var t=e.id,n=Object(a.useState)(null),c=Object(d.a)(n,2),o=c[0],i=c[1],l=Object(a.useState)(null),s=Object(d.a)(l,2),f=s[0],m=s[1],b=Object(a.useState)(null),h=Object(d.a)(b,2),g=h[0],v=(h[1],Object(a.useState)([])),O=Object(d.a)(v,2),E=(O[0],O[1],Object(a.useState)(!1)),j=Object(d.a)(E,2),y=j[0],x=j[1],w=H(),k=w.subscribe,I=(w.unsubscribe,Object(u.c)((function(e){return e.mixer.volumeStage})));return o&&(o.volume.value=I),Object(a.useEffect)((function(){var e=new p.a(-32);e.connect(p.b);var t=[];Jt.forEach((function(n,a){t.push(new p.c({C3:n})),t[a].connect(e)})),i(e),m(t)}),[]),Object(a.useEffect)((function(){f&&!y&&(x(!0),console.log("subscribe to orchestra topic",f),k("".concat(P,"/").concat(t,"/orchestra"),(function(e,t){var n=t.channel,a=t.note,r=t.status,c=t.velocity;n&&n>0&&n<=16&&(r===Pe&&f[n-1].triggerAttack(a,Object(p.f)(),c),r===Fe&&f[n-1].triggerRelease(a,Object(p.f)()))})))}),[f]),r.a.createElement(Wt,null,r.a.createElement(Ve.a,{style:{background:"rgb(0,0,0)"},camera:{position:[0,0,10],fov:45},colorManagement:!0},r.a.createElement(it.a,null),r.a.createElement(ot,null),r.a.createElement(ct,{analyzer:g}),r.a.createElement(u.a,{store:Ee},r.a.createElement(st,null))))},Kt=n(916),Yt=n.n(Kt),qt=n(917),Xt=n.n(qt),$t=n(918),Qt=n.n($t),Zt=n(919),en=n.n(Zt),tn=n(920),nn=n.n(tn),an=n(921),rn=n.n(an),cn=n(212),on=n.n(cn),un=n(922),ln=n.n(un),sn=n(923),fn=n.n(sn),dn=n(924),mn=n.n(dn),bn=n(925),pn=n.n(bn),hn=n(926),gn=n.n(hn),vn=n(927),On=n.n(vn);function En(){var e=Object(i.a)(["\n  color: white;\n"]);return En=function(){return e},e}function jn(){var e=Object(i.a)(["\n  background-color: rgba(254, 250, 170, 1);\n  border: none;\n  color: white;\n  height: 32px;\n  width: 32px;\n  text-align: center;\n  text-decoration: none;\n  display: inline-block;\n  font-size: 16px;\n  margin: 5px;\n  /* border-radius: 50%; */\n"]);return jn=function(){return e},e}function yn(){var e=Object(i.a)(["\n  display: inline-block;\n  text-align: center;\n  width: 100%;\n  /* border: 1px dashed white; */\n"]);return yn=function(){return e},e}var xn=f.b.div(yn()),wn=f.b.button(jn()),kn=f.b.span(En()),In=function(e){var t=e.label,n=e.borderColor,a=e.onClick;return r.a.createElement(xn,null,r.a.createElement(wn,{onClick:a,borderColor:n}),r.a.createElement("br",null),r.a.createElement(kn,null,t))},Sn=[{id:"applaude",label:"applaude",color:"#fa2233"},{id:"talk",label:"talk",color:"#fa8833"},{id:"photograph",label:"photograph",color:"#2a2833"},{id:"walk",label:"walk",color:"#2a2833"},{id:"sneeze",label:"sneeze",color:"#2af0fa"},{id:"cough",label:"cough",color:"#aaf0fa"},{id:"dance",label:"dance",color:"#aaf425"},{id:"shout",label:"shout",color:"#00f425"},{id:"singAlong",label:"sing along",color:"#022422"},{id:"phone",label:"phone",color:"#425422"}];function Cn(){var e=Object(i.a)(["\n  background-color: black;\n  display: flex;\n  flex-direction: column;\n"]);return Cn=function(){return e},e}var Mn=f.b.div(Cn()),An=new p.a(-32),Tn=new p.d(0);An.connect(Tn),Tn.connect(p.b);var Rn=new p.c({C3:Yt.a});Rn.connect(An);var Nn=function(){var e=Object(a.useContext)(Y),t=Object(d.a)(e,1)[0],n=H(),c=n.subscribe,o=n.publish,i=n.getClient,l=Object(a.useState)(null),s=Object(d.a)(l,2),f=s[0],m=s[1],b=Object(a.useState)(null),h=Object(d.a)(b,2),g=h[0],v=h[1],O=Object(a.useState)(null),E=Object(d.a)(O,2),j=E[0],y=E[1],x=Object(a.useState)(null),w=Object(d.a)(x,2),k=w[0],I=w[1],S=Object(a.useState)(null),C=Object(d.a)(S,2),M=C[0],T=C[1],R=Object(a.useState)(null),N=Object(d.a)(R,2),D=N[0],B=N[1],_=Object(a.useState)(null),U=Object(d.a)(_,2),z=U[0],L=U[1],G=Object(a.useState)(null),F=Object(d.a)(G,2),J=F[0],W=F[1],V=Object(a.useState)(null),K=Object(d.a)(V,2),q=K[0],X=K[1],$=Object(a.useState)(null),Q=Object(d.a)($,2),Z=Q[0],ee=Q[1],te=Object(a.useState)(null),ne=Object(d.a)(te,2),ae=ne[0],re=ne[1],ce=Object(u.b)(),oe=Object(u.c)((function(e){return e.mixer.volumeInteractions}));return An&&(An.volume.value=oe),Object(a.useEffect)((function(){var e=new p.c({C3:rn.a});e.connect(An),T(e);var t=new p.c({C2:Xt.a,C3:Qt.a,C4:en.a});t.connect(An),y(t);var n=new p.c({C3:nn.a});n.connect(An),I(n);var a=new p.c({C3:on.a});a.connect(An),m(a);var r=new p.c({C3:on.a});r.connect(An),v(r);var c=new p.c({C3:mn.a});c.connect(An),B(c);var o=new p.c({C3:pn.a});o.connect(An),L(o);var u=new p.c({C3:gn.a});u.connect(An),ee(u);var l=new p.c({C3:On.a});l.connect(An),re(l);var s=new p.c({C3:ln.a});s.connect(An),W(s);var f=new p.c({C3:fn.a});f.connect(An),X(f),i().on("connect",(function(){}))}),[]),Object(a.useEffect)((function(){c("".concat(P,"/").concat(t.hallId,"/applaude"),(function(e,t){Rn.triggerAttackRelease(40+Math.round(60*Math.random()),20),ce(se(t.userId,"applauded"))})),c("".concat(P,"/").concat(t.hallId,"/talk"),(function(e,t){j.triggerAttackRelease(20+Math.round(60*Math.random()),20),ce(se(t.userId,"talked"))})),c("".concat(P,"/").concat(t.hallId,"/shout"),(function(e,t){k.triggerAttackRelease(40+Math.round(60*Math.random()),20),ce(se(t.userId,"shouted"))})),c("".concat(P,"/").concat(t.hallId,"/singAlong"),(function(e,t){M.triggerAttackRelease(40+Math.round(60*Math.random()),20),ce(se(t.userId,"sang along"))})),c("".concat(P,"/").concat(t.hallId,"/enter"),(function(e,t){f.triggerAttackRelease(72,20),ce(se(t.userId,"entered"))})),c("".concat(P,"/").concat(t.hallId,"/leave"),(function(e,t){console.log("user left",t),ce(se(t.userId,"left"))})),c("".concat(P,"/").concat(t.hallId,"/photograph"),(function(e,t){D.triggerAttackRelease(40+Math.round(60*Math.random()),20),ce(se(t.userId,"took a photo"))})),c("".concat(P,"/").concat(t.hallId,"/phone"),(function(e,t){z.triggerAttackRelease(40+Math.round(60*Math.random()),20),ce(se(t.userId,"took a phone call"))})),c("".concat(P,"/").concat(t.hallId,"/walk"),(function(e,t){Z.triggerAttackRelease(40+Math.round(60*Math.random()),20),ce(se(t.userId,"walked"))})),c("".concat(P,"/").concat(t.hallId,"/dance"),(function(e,t){ae.triggerAttackRelease(40+Math.round(60*Math.random()),20),ce(se(t.userId,"danced"))})),c("".concat(P,"/").concat(t.hallId,"/sneeze"),(function(e,t){J.triggerAttackRelease(40+Math.round(60*Math.random()),20),ce(se(t.userId,"sneezed"))})),c("".concat(P,"/").concat(t.hallId,"/cough"),(function(e,t){q.triggerAttackRelease(50+Math.round(60*Math.random()),20),ce(se(t.userId,"coughed"))}))}),[t.hallId,j,M,Z,z,D,ae,q,J,f,g]),r.a.createElement(Mn,null,r.a.createElement(Se,{title:"actions",color:"rgb(46, 94, 160)"},r.a.createElement(A.a,{container:!0},Sn.map((function(e,n){return r.a.createElement(A.a,{item:!0,xs:2,key:n},r.a.createElement(In,{key:e.id,variant:"outlined",color:"primary",onClick:function(){o("".concat(P,"/").concat(t.hallId,"/").concat(e.id),{userId:t.userId})},label:e.label}))})))))},Dn=n(1147);function Bn(){var e=Object(i.a)(["\n  height: 50px !important;\n"]);return Bn=function(){return e},e}function _n(){var e=Object(i.a)(["\n  background-color: black;\n  display: flex;\n  flex-direction: row;\n  height: 100%;\n  width: 100%;\n"]);return _n=function(){return e},e}var Un=f.b.div(_n()),zn=Object(f.b)(Dn.a)(Bn()),Ln=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.mixer.volumeStage})),n=Object(u.c)((function(e){return e.mixer.volumeInteractions}));return r.a.createElement(Un,null,r.a.createElement(A.a,{container:!0},r.a.createElement(A.a,{item:!0,xs:6},r.a.createElement(Se,{title:"light",color:"rgb(220, 46, 40)"},r.a.createElement(A.a,{container:!0},r.a.createElement(A.a,{item:!0,xs:2},r.a.createElement(In,{variant:"outlined",color:"primary",onClick:function(){},label:"glitch"}))))),r.a.createElement(A.a,{item:!0,xs:6},r.a.createElement(Se,{title:"audio",color:"rgb(220, 46, 40)"},r.a.createElement(zn,{orientation:"vertical",defaultValue:-100,min:-100,max:0,value:t,onChange:function(t,n){e(function(e){return{type:ae,payload:{value:e}}}(n))}}),r.a.createElement(zn,{orientation:"vertical",defaultValue:-100,min:-100,max:0,value:n,onChange:function(t,n){e(function(e){return{type:ne,payload:{value:e}}}(n))}})))))};n(1140);function Gn(){var e=Object(i.a)(["\n  list-style-type: none;\n"]);return Gn=function(){return e},e}function Hn(){var e=Object(i.a)(["\n  font-weight: bold;\n  color: #333;\n"]);return Hn=function(){return e},e}function Pn(){var e=Object(i.a)(["\n  font-style: italic;\n  color: #333;\n"]);return Pn=function(){return e},e}function Fn(){var e=Object(i.a)(["\n  width: 100%;\n  flex-grow: 1;\n  overflow-y: scroll;\n"]);return Fn=function(){return e},e}f.b.div(Fn()),f.b.span(Pn()),f.b.span(Hn()),f.b.ul(Gn());var Jn=n(1148),Wn=n(1149),Vn=n(928),Kn=n.n(Vn);function Yn(){var e=Object(i.a)(["\n    font-style: italic;\n    text-align: right;\n  "]);return Yn=function(){return e},e}function qn(){var e=Object(i.a)([""]);return qn=function(){return e},e}function Xn(){var e=Object(i.a)(["\n    list-style-type: none;\n  "]);return Xn=function(){return e},e}function $n(){var e=Object(i.a)(["\n  list-style-type: none;\n"]);return $n=function(){return e},e}function Qn(){var e=Object(i.a)(["\n  font-weight: bold;\n  color: #333;\n"]);return Qn=function(){return e},e}function Zn(){var e=Object(i.a)(["\n  font-style: italic;\n  color: #333;\n"]);return Zn=function(){return e},e}function ea(){var e=Object(i.a)(["\n  position: absolute;\n  bottom: 0;\n  width: 100%;\n"]);return ea=function(){return e},e}function ta(){var e=Object(i.a)(["\n  width: 33vw;\n  @media only screen and (max-width: 600px) {\n    width: 100vw;\n  }\n\n  height: 50vh;\n  position: absolute;\n  top: 0;\n  right: 0;\n  flex-grow: 1;\n  overflow-y: scroll;\n  background-color: white;\n  color: black;\n  z-index: 1101;\n"]);return ta=function(){return e},e}var na=f.b.div(ta()),aa=f.b.div(ea());f.b.span(Zn()),f.b.span(Qn()),f.b.ul($n());function ra(){var e=Object(i.a)(["\n  position: absolute;\n  right: 0;\n  top: 0;\n  width: 33vw;\n"]);return ra=function(){return e},e}function ca(){var e=Object(i.a)(["\n  background-color: white;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n"]);return ca=function(){return e},e}function oa(){var e=Object(i.a)(["\n  width: 100%;\n  height: 100%;\n"]);return oa=function(){return e},e}function ia(){var e=Object(i.a)(["\n  width: 100%;\n  height: 100%;\n  background-color: black;\n"]);return ia=function(){return e},e}var ua=f.b.div(ia()),la=Object(f.b)(R.a)(oa()),sa=f.b.div(ca()),fa=Object(f.b)((function(){var e=Object(a.useState)(""),t=Object(d.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(!0),i=Object(d.a)(o,2),l=i[0],s=i[1],p=Object(a.useState)(!1),h=Object(d.a)(p,2),g=h[0],v=h[1],O=Object(u.c)((function(e){return e.console.history})),E=Object(u.c)((function(e){return e.chat.messages})),j=[].concat(Object(U.a)(O),Object(U.a)(E)).sort((function(e,t){return e.time<t.time})),y=Object(a.useContext)(Y),x=Object(d.a)(y,1)[0],w=(Object(u.b)(),Object(u.c)((function(e){return e.users.users}))),k=H(),I=(k.subscribe,k.publish),S=(k.getClient,f.b.ul(Xn())),C=f.b.li(qn()),M=f.b.li(Yn());return r.a.createElement(na,null,r.a.createElement(Se,{title:"chat/console",color:"rgb(46, 94, 160)"},r.a.createElement(Jn.a,{control:r.a.createElement(Wn.a,{checked:l,onChange:function(e){s(e.target.checked)},color:"primary"}),label:"chat messages"}),r.a.createElement(Jn.a,{control:r.a.createElement(Wn.a,{checked:g,onChange:function(e){v(e.target.checked)},color:"primary"}),label:"system messages"}),r.a.createElement(S,null,j.map((function(e,t){var n;return w.forEach((function(t){t.id===e.user&&(n=t.name)})),r.a.createElement(r.a.Fragment,null,"CHAT"===e.type&&l&&r.a.createElement(C,{key:t},n,": ",e.text),"SYSTEM"===e.type&&g&&r.a.createElement(M,{key:t},x.hallId,": ",n," ",e.text))}))),r.a.createElement(aa,null,r.a.createElement(A.a,{container:!0},r.a.createElement(A.a,{item:!0,xs:9},r.a.createElement(b.a,{fullWidth:!0,value:n,onChange:function(e){return c(e.target.value)},onKeyPress:function(e){"Enter"!==e.key||e.shiftKey||(e.preventDefault(),I("vgig/".concat(x.hallId,"/chat"),{user:x.userId,message:n}),c(""))}})),r.a.createElement(A.a,{item:!0,xs:3},r.a.createElement(m.a,{color:"primary",fullWidth:!0,onClick:function(e){""!==n&&I("vgig/".concat(x.hallId,"/chat"),{user:x.userId,message:n}),c("")}},r.a.createElement(Kn.a,null)))))))}))(ra()),da=function(){var e=Object(s.g)().id,t=Object(a.useContext)(Y),n=Object(d.a)(t,2),c=n[0],o=n[1],i=H(),l=i.publish,f=i.subscribe,m=Object(u.b)(),b=Object(a.useState)(!0),p=Object(d.a)(b,2),h=p[0],g=p[1],v=Object(a.useState)(!1),O=Object(d.a)(v,2),E=O[0],j=O[1];return Object(a.useEffect)((function(){o(Object(C.a)({},c,{hallId:e})),l("".concat(P,"/").concat(e,"/enterLobby"),{userId:c.userId}),f("".concat(P,"/").concat(e,"/setUserName"),(function(e,t){m(function(e,t){return{type:Q,payload:{id:e,name:t}}}(t.id,t.name))})),f("".concat(P,"/").concat(e,"/chat"),(function(e,t){var n,a;m((n=t.user,a=t.message,{type:oe,payload:{message:{user:n,text:a}}}))}))}),[e]),r.a.createElement(ua,null,r.a.createElement(M.a,{position:"sticky",style:{backgroundColor:"transparent"}},r.a.createElement(N.a,null,r.a.createElement(T.a,{color:"primary",onClick:function(e){j(!E)}},r.a.createElement(B.a,null)))),r.a.createElement(la,{open:h},r.a.createElement(sa,null,r.a.createElement(He,{onEnter:function(e){l("".concat(P,"/").concat(c.hallId,"/enter"),{userId:c.userId,name:e}),g(!1)}}))),r.a.createElement(r.a.Fragment,null,r.a.createElement(Vt,{className:"orchestra",id:e}),r.a.createElement(De,{className:"audience",id:e}),r.a.createElement(A.a,{container:!0},r.a.createElement(A.a,{item:!0,xs:12,sm:8},r.a.createElement(Nn,{className:"interactions",id:e})),r.a.createElement(A.a,{item:!0,xs:12,sm:4},r.a.createElement(Ln,null))),E&&r.a.createElement(fa,null)))},ma=n(1139),ba=n(931),pa=Object(ba.a)({palette:{primary:{main:"rgb(46, 94, 160)"},secondary:{main:"rgb(220, 46, 40)"}}});function ha(){var e=Object(i.a)(["\n  width: 100vw;\n  height: 100vh;\n"]);return ha=function(){return e},e}var ga=f.b.div(ha()),va=function(){return r.a.createElement(ga,null,r.a.createElement(ma.a,{theme:pa},r.a.createElement(u.a,{store:Ee},r.a.createElement(l.a,null,r.a.createElement(s.c,null,r.a.createElement(s.a,{path:"/halls/:id"},r.a.createElement(K,{value:Y},r.a.createElement(da,null))),r.a.createElement(s.a,{path:"/"},r.a.createElement(S,null)))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(va,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},212:function(e,t,n){e.exports=n.p+"static/media/enter.339b495d.mp3"},883:function(e){e.exports=JSON.parse('{"name":"vgig","homepage":"https://thomasgeissl.github.io/vgig","version":"0.1.0","private":true,"dependencies":{"@material-ui/core":"^4.11.0","@material-ui/icons":"^4.9.1","@react-three/cannon":"^0.5.3","@react-three/drei":"^2.2.0","@react-three/postprocessing":"^1.4.1","@testing-library/jest-dom":"^4.2.4","@testing-library/react":"^9.3.2","@testing-library/user-event":"^7.1.2","date-fns":"^2.16.1","drei":"^1.5.7","gh-pages":"^3.1.0","mqtt":"^4.2.1","nosleep.js":"^0.11.0","react":"^16.13.1","react-dom":"^16.13.1","react-redux":"^7.2.1","react-router-dom":"^5.2.0","react-scripts":"3.4.3","react-spring":"^8.0.27","react-three-fiber":"^5.0.1","redux":"^4.0.5","redux-observable":"^1.2.0","styled-components":"^5.2.0","three":"^0.120.1","threejs-meshline":"^2.0.12","tone":"^14.7.39","troika-three-text":"^0.34.1","typescript":"^4.0.3"},"scripts":{"start":"react-scripts start","build":"react-scripts build","test":"react-scripts test","eject":"react-scripts eject","deploy":"yarn build && gh-pages -d build","travisdeploy":"CI=false yarn build && gh-pages -d build -r https://$GH_TOKEN@github.com/thomasgeissl/vgig.git"},"eslintConfig":{"extends":"react-app"},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]}}')},894:function(e,t,n){e.exports=n.p+"static/media/1.2ff80ac8.mp3"},895:function(e,t,n){e.exports=n.p+"static/media/2.1c2b70ec.mp3"},896:function(e,t,n){e.exports=n.p+"static/media/3.1a2ceec2.mp3"},897:function(e,t,n){e.exports=n.p+"static/media/4.e59a4594.mp3"},898:function(e,t,n){e.exports=n.p+"static/media/5.39b87e4e.mp3"},899:function(e,t,n){e.exports=n.p+"static/media/6.4ff4f6c4.mp3"},900:function(e,t,n){e.exports=n.p+"static/media/7.cf244f92.mp3"},901:function(e,t,n){e.exports=n.p+"static/media/8.1a3c06fb.mp3"},902:function(e,t,n){e.exports=n.p+"static/media/9.51f8712a.mp3"},903:function(e,t,n){e.exports=n.p+"static/media/10.addb6c15.mp3"},904:function(e,t,n){e.exports=n.p+"static/media/11.35a178a5.mp3"},905:function(e,t,n){e.exports=n.p+"static/media/12.dd328baa.mp3"},906:function(e,t,n){e.exports=n.p+"static/media/13.8c15668d.mp3"},907:function(e,t,n){e.exports=n.p+"static/media/14.c2c551c9.mp3"},908:function(e,t,n){e.exports=n.p+"static/media/15.45ca4dca.mp3"},909:function(e,t,n){e.exports=n.p+"static/media/16.066aed20.mp3"},916:function(e,t,n){e.exports=n.p+"static/media/clapping.31212348.mp3"},917:function(e,t,n){e.exports=n.p+"static/media/talk_C2.4fdd1dcf.mp3"},918:function(e,t,n){e.exports=n.p+"static/media/talk_C3.f2a775cc.mp3"},919:function(e,t,n){e.exports=n.p+"static/media/talk_C4.cfab9d69.mp3"},920:function(e,t,n){e.exports=n.p+"static/media/shout.b39ade0c.mp3"},921:function(e,t,n){e.exports=n.p+"static/media/singAlong.6896ef66.mp3"},922:function(e,t,n){e.exports=n.p+"static/media/sneeze.62f3207f.mp3"},923:function(e,t,n){e.exports=n.p+"static/media/cough.9e20177b.mp3"},924:function(e,t,n){e.exports=n.p+"static/media/photograph.437bf6fd.mp3"},925:function(e,t,n){e.exports=n.p+"static/media/phone.9417a5f0.mp3"},926:function(e,t,n){e.exports=n.p+"static/media/walk.6a028ea7.mp3"},927:function(e,t,n){e.exports=n.p+"static/media/dance.b39ade0c.mp3"},963:function(e,t,n){e.exports=n(1095)},967:function(e,t,n){},983:function(e,t){},985:function(e,t){}},[[963,1,2]]]);
//# sourceMappingURL=main.77054f07.chunk.js.map