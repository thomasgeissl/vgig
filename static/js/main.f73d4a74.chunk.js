(this.webpackJsonpvgig=this.webpackJsonpvgig||[]).push([[0],{1005:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(29),o=a.n(c),l=(a(879),a(100)),i=a(852),u=a(38),m=a(107),s=a(13),h=a(1041),f=a(1043),d=a(1044),v=a(1042),g=a(688),E=a.n(g).a.connect("wss://try:try@broker.shiftr.io"),b=144,p=function(){var e=Object(n.useState)(1),t=Object(s.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(60),l=Object(s.a)(o,2),i=l[0],u=l[1],m=Object(n.useState)(100),g=Object(s.a)(m,2),p=g[0],w=g[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{value:a,onChange:function(e){c(e.target.value)}},r.a.createElement(d.a,{value:1},"percussion (ch. 1)"),r.a.createElement(d.a,{value:2},"violin (ch. 2)"),r.a.createElement(d.a,{value:3},"3"),r.a.createElement(d.a,{value:4},"4"),r.a.createElement(d.a,{value:5},"5"),r.a.createElement(d.a,{value:6},"6"),r.a.createElement(d.a,{value:7},"7"),r.a.createElement(d.a,{value:8},"8"),r.a.createElement(d.a,{value:9},"9"),r.a.createElement(d.a,{value:10},"10"),r.a.createElement(d.a,{value:11},"11"),r.a.createElement(d.a,{value:12},"12"),r.a.createElement(d.a,{value:13},"13"),r.a.createElement(d.a,{value:14},"14"),r.a.createElement(d.a,{value:15},"15"),r.a.createElement(d.a,{value:16},"16")),r.a.createElement(f.a,{label:"note",variant:"outlined",type:"number",value:i,onChange:function(e){u(e.target.value)}}),r.a.createElement(f.a,{label:"velocity",variant:"outlined",type:"number",value:p,onChange:function(e){w(e.target.value)}}),r.a.createElement(h.a,{variant:"contained",color:"primary",onClick:function(){E.publish("vgig/midi",JSON.stringify(function(e,t,a){return{channel:e,status:b,note:t,velocity:a||127}}(a,i,p)))}},"trigger test sample"))},w=a(12),M=a(1),y=a(148),O=a(165),j=a(20),S=a(152),k=["#A2CCB6","#FCEEB5","#EE786E","#e0feff","lightpink","lightblue"],C=["planeBufferGeometry","planeBufferGeometry","planeBufferGeometry"],A=function(e){var t=Math.random();return{position:[100-200*Math.random(),100-200*Math.random(),1.5*e],color:k[Math.round(Math.random()*(k.length-1))],scale:[1+14*t,1+14*t,1],rotation:[0,0,M.Math.degToRad(45*Math.round(Math.random()))]}},B=new Array(35).fill().map((function(){return{shape:C[Math.round(Math.random()*(C.length-1))],color:k[Math.round(Math.random()*(k.length-1))],args:[.1+9*Math.random(),.1+9*Math.random(),10]}}));function x(){var e=Object(S.b)(35,(function(e){return Object(w.a)({from:A(e)},A(e),{config:{mass:20,tension:150,friction:50}})})),t=Object(s.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){setInterval((function(){return c((function(e){return Object(w.a)({},A(e),{delay:40*e})}))}),3e3)}),[c]),B.map((function(e,t){return r.a.createElement(S.a.mesh,Object.assign({key:t},a[t],{castShadow:!0,receiveShadow:!0}),r.a.createElement("boxBufferGeometry",{args:e.args}),r.a.createElement(S.a.meshStandardMaterial,{color:a[t].color,roughness:.75,metalness:.5}))}))}function R(){return r.a.createElement("group",null,r.a.createElement("pointLight",{intensity:.3}),r.a.createElement("ambientLight",{intensity:2}),r.a.createElement("spotLight",{castShadow:!0,intensity:.2,angle:Math.PI/7,position:[150,150,250],penumbra:1,"shadow-mapSize-width":2048,"shadow-mapSize-height":2048}))}var G=function(){return r.a.createElement(j.a,{style:{background:"rgb(0,0,0)"},camera:{position:[0,0,100],fov:1e3}},r.a.createElement(R,null),r.a.createElement("mesh",{receiveShadow:!0},r.a.createElement("planeBufferGeometry",{args:[1e3,1e3]}),r.a.createElement("meshStandardMaterial",{color:"#A2ACB6",roughness:1})),r.a.createElement(x,null),r.a.createElement(y.a,null))},L=(a(1004),a(93)),I=a(847),J=a.n(I),N=a(848),T=a.n(N);function W(){var e=Object(l.a)(["\n  width: 100%;\n  height: 66%;\n"]);return W=function(){return e},e}var z={C3:J.a},F={C3:T.a},P=m.a.div(W());function V(e){var t=e.curve,a=e.width,c=e.color,o=e.speed,l=Object(n.useRef)();return Object(j.g)((function(){return l.current.uniforms.dashOffset.value-=o})),r.a.createElement("mesh",null,r.a.createElement("meshLine",{attach:"geometry",vertices:t}),r.a.createElement("meshLineMaterial",{attach:"material",ref:l,transparent:!0,depthTest:!1,lineWidth:a,color:c,dashArray:.1,dashRatio:.9}))}function $(e){var t=e.count,a=e.colors;return Object(n.useMemo)((function(){return new Array(t).fill().map((function(){var e=new M.Vector3(10-20*Math.random(),10-20*Math.random(),10-20*Math.random()),t=new Array(30).fill().map((function(){return e.add(new M.Vector3(4-8*Math.random(),4-8*Math.random(),2-4*Math.random())).clone()})),n=new M.CatmullRomCurve3(t).getPoints(1e3);return{color:a[parseInt(a.length*Math.random())],width:Math.max(.1,.65*Math.random()),speed:Math.max(1e-4,5e-4*Math.random()),curve:n}}))}),[a,t]).map((function(e,t){return r.a.createElement(V,Object.assign({key:t},e))}))}Object(j.e)(O);var _=function(){var e=Object(n.useState)(null),t=Object(s.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(null),l=Object(s.a)(o,2),i=l[0],u=l[1];return Object(n.useEffect)((function(){var e=new L.d(z);e.volume.value=-6;var t=new L.a(.6,5e3),a=new L.c({delayTime:"32n",feedback:.7,wet:.25});e.volume.value=0,e.connect(a),a.connect(t),t.connect(L.b),c(e);var n=new L.d(F);n.volume.value=0,n.connect(L.b),u(n)}),[]),Object(n.useEffect)((function(){E.on("message",(function(e,t){var n=JSON.parse(t.toString()),r=n.channel,c=n.note;n.velocity;if(n.status==b)switch(r){case 1:a&&a.triggerAttackRelease(c);break;case 2:i&&i.triggerAttackRelease(c)}})),E.subscribe("vgig/midi")}),[a,i],(function(){E.unsubscribe("vgig/midi")})),r.a.createElement(P,null,r.a.createElement(j.a,{style:{background:"rgb(0,0,0)"},camera:{position:[0,0,10],fov:25}},r.a.createElement($,{count:20,colors:["rgb(100,0,0)","#222","#aaa","#e0feff","rgb(100,0,60)","rgb(127,32,64)"]}),r.a.createElement(y.a,null)))};function q(){var e=Object(l.a)(["\n    .audience {\n        width: 100%;\n        height: 33%;\n    }\n    width: 100%;\n    height: 100%;\n"]);return q=function(){return e},e}var D=m.a.div(q()),H=function(){return r.a.createElement(D,null,r.a.createElement(_,{className:"orchestra"}),r.a.createElement(G,{className:"audience"}))};function K(){var e=Object(l.a)(["\nwidth: 100vw;\nheight: 100vh;\n"]);return K=function(){return e},e}var Q=m.a.div(K()),U=function(){return r.a.createElement(Q,null,r.a.createElement(i.a,null,r.a.createElement(u.c,null,r.a.createElement(u.a,{path:"/conductor"},r.a.createElement(p,null)),r.a.createElement(u.a,{path:"/"},r.a.createElement(H,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(U,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},847:function(e,t,a){e.exports=a.p+"static/media/A.5e794cdb.mp3"},848:function(e,t,a){e.exports=a.p+"static/media/violin_c3.bbc9708e.mp3"},875:function(e,t,a){e.exports=a(1005)},879:function(e,t,a){},882:function(e,t){},884:function(e,t){},953:function(e,t){},955:function(e,t){},978:function(e,t){},979:function(e,t){}},[[875,1,2]]]);
//# sourceMappingURL=main.f73d4a74.chunk.js.map