(this.webpackJsonpvgig=this.webpackJsonpvgig||[]).push([[0],{1026:function(e,t){},1028:function(e,t){},1051:function(e,t){},1052:function(e,t){},1066:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(33),o=n.n(c),i=(n(939),n(24)),u=n(47),l=n(155),s=n(45),d=n(25),b=n(12),f=n(1102),p=n(1111),m=n(38);function h(){var e=Object(i.a)(["\n  margin-top: 92px;\n  text-align: center;\n"]);return h=function(){return e},e}function v(){var e=Object(i.a)(["\n  p {\n    margin-top: 24px;\n    margin-bottom: 24px;\n  }\n"]);return v=function(){return e},e}function g(){var e=Object(i.a)([""]);return g=function(){return e},e}function O(){var e=Object(i.a)(["\n  position: fixed;\n  padding: 25px;\n  top: 0;\n  right: 0%;\n"]);return O=function(){return e},e}function j(){var e=Object(i.a)(["\n  max-width: 768px;\n  margin: auto;\n  margin-top: 100px;\n"]);return j=function(){return e},e}var E=n(873).version,y=d.b.div(j()),w=d.b.div(O()),x=d.b.section(g()),k=d.b.section(v()),I=d.b.div(h()),C=function(){var e=Object(a.useState)(function(e){for(var t="",n="abcdefghijklmnopqrstuvwxyz0123456789",a=n.length,r=0;r<e;r++)t+=n.charAt(Math.floor(Math.random()*a));return t}(4)),t=Object(b.a)(e,2),n=t[0],c=t[1],o=Object(s.f)();return r.a.createElement(y,null,r.a.createElement(w,null,E),r.a.createElement(x,null,"Welcome to vgig,",r.a.createElement("br",null),"the virtual concert hall for everyone."),r.a.createElement(k,null,r.a.createElement("p",null),r.a.createElement(I,null,r.a.createElement(p.a,{value:n,onChange:function(e){return c(e.target.value)}}),r.a.createElement(f.a,{onClick:function(){"running"!==m.k.state&&m.k.resume(),o.push("/halls/".concat(n))}},"enter"))))},S=n(13),A=n(1107),M=n(1106),T=n(1109),R=n(1113),N=n(1108),_=n(904),D=n.n(_),U=n(1115),z=n(17),B=n(169),H=n.n(B),J=function(e){return e.includes("#")||e.includes("+")};var W=function(e){var t=Object(B.connect)(e),n=new Map;return t.on("connect",console.log),t.on("disconnect",console.log),t.on("error",console.error),t.on("message",(function(e,t){n.forEach((function(n,a){(e===a||J(a)&&function(e,t){if(e===t)return[];if("#"===t)return[e];for(var n=[],a=String(e).split("/"),r=String(t).split("/"),c=0,o=a.length;c<o;c++)if("+"===r[c])n.push(a[c]);else{if("#"===r[c])return n.push(a.slice(c).join("/")),n;if(r[c]!==a[c])return null}return"#"===r[c]&&(c+=1),c===r.length?n:null}(e,a))&&n.forEach((function(e){try{e(a,JSON.parse(t.toString()))}catch(n){e(a,{})}}))}))})),function(){return{subscribe:function(e,a){var r=n.get(e);if(n.set(e,[].concat(Object(z.a)(r||[]),[a])),t.subscribe(e),!n.get(e))throw new Error("useClient: ".concat(e," does not exist"))},publish:function(e,n){if(J(e))throw new Error("useTopic: Tried publishing on wildcard topic ".concat(e));t.publish(e,JSON.stringify(n))},unsubscribe:function(e){n.delete(e),t.unsubscribe(e)},getClient:function(){return t}}}}("wss://try:try@broker.shiftr.io"),q="vgig",P=H.a.connect("wss://try:try@broker.shiftr.io"),V=function(e,t){P.publish(e,JSON.stringify(t))},K=function(e){for(var t="",n="abcdefghijklmnopqrstuvwxyz0123456789",a=n.length,r=0;r<e;r++)t+=n.charAt(Math.floor(Math.random()*a));return t},L=r.a.createContext(),G=function(e){var t=e.children,n=Object(a.useState)({userId:K(8)}),c=Object(b.a)(n,2),o=c[0],i=c[1];return r.a.createElement(L.Provider,{value:[o,i]},t)},X=L,F="ADDUSER",Y="SETUSERS",$="HEARTBEAT",Q="SETNAME",Z={users:[],heartBeats:new Map},ee=n(92),te=n(1112),ne="SETVOLUMEINTERACTIONS",ae={volumeInteractions:0},re="ADDMESSAGE",ce={messages:[]},oe="ADDTOHISTORY",ie={history:[]},ue=function(e,t){return{type:oe,payload:{user:e,text:t}}},le=Object(ee.c)({users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $:var n=new Map(e.heartBeats),a=Object(z.a)(e.users);return n.set(t.payload.value,Date.now()),n.forEach((function(e,t){if(Date.now()>e+3e4){n.delete(t);var r=a.indexOf(t);-1!==r&&a.splice(r,1)}})),Object(S.a)({},e,{heartBeats:n,users:a});case Y:var r=Object(z.a)(e.users);return t.payload.value.forEach((function(e){var t=!1;r.forEach((function(n){n.id===e.id&&(t=!0)})),t||r.push(e)})),Object(S.a)({},e,{users:r.sort((function(e,t){return e.id<t.id}))});case F:var c=Object(z.a)(e.users),o=!1;return c.forEach((function(e){e.id===t.payload.id&&(o=!0)})),o||c.push({id:t.payload.id,name:t.payload.name}),Object(S.a)({},e,{users:c.sort((function(e,t){return e.id<t.id}))});case Q:var i=Object(z.a)(e.users);return i.forEach((function(e,n){e.id===t.payload.id&&(i[n].name=t.payload.name)})),Object(S.a)({},e,{users:i});default:return e}},mixer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne:return Object(S.a)({},e,{volumeInteractions:t.payload.value});default:return e}},chat:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case re:var n=Object(z.a)(e.messages);return n.unshift(t.payload.message),n=n.splice(0,100),Object(S.a)({},e,{messages:n});default:return e}},console:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case oe:var n=Object(z.a)(e.history);return n.unshift(Object(S.a)({},t.payload,{time:new Date})),n=n.slice(0,1e3),Object(S.a)({},e,{history:n})}return e}}),se=n(1103),de=n(1104),be=n(175),fe=n(1105),pe=n(1116),me=Object(te.a)(),he=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ee.d,ve=Object(ee.e)((function(e,t){return"RESET"===t.type?le(void 0,t):"SETSTATE"===t.type?le(t.payload,{type:"IGNORE"}):le(e,t)}),he(Object(ee.a)(me)));me.run((function(e){return e.pipe(Object(se.a)((function(e){return"STARTHEARTBEAT"===e.type})),Object(de.a)((function(t){return Object(pe.a)(3e4).pipe(Object(be.a)((function(e){return{type:"HEARTBEAT",payload:{value:1}}})),Object(fe.a)(e.ofType("STOPHEARTBEAT")))})))})),ve.dispatch({type:"INIT"});var ge=ve;function Oe(){var e=Object(i.a)(["\n      background-color: ",";\n    "]);return Oe=function(){return e},e}function je(){var e=Object(i.a)(["\n  width: 100%;\n  text-transform: uppercase;\n  color: white;\n  text-align: center;\n  ","\n"]);return je=function(){return e},e}function Ee(){var e=Object(i.a)(["\n      border-bottom: 3px solid ",";\n      border-left: 1px solid white;\n      border-right: 1px solid white;\n    "]);return Ee=function(){return e},e}function ye(){var e=Object(i.a)(["\n  height: 100%;\n  text-align: left;\n  ","\n"]);return ye=function(){return e},e}var we=d.b.div(ye(),(function(e){return e.color&&Object(d.a)(Ee(),e.color)})),xe=d.b.section(je(),(function(e){return e.color&&Object(d.a)(Oe(),e.color)})),ke=function(e){var t=e.title,n=e.color,a=e.children;return r.a.createElement(we,{color:n},r.a.createElement(xe,{color:n},t),a)};function Ie(){var e=Object(i.a)(["\n  height: 25px;\n  width: 25px;\n  background-color: ",";\n  border-radius: 50%;\n  display: inline-block;\n  margin: 5px;\n  border: 1px solid black;\n"]);return Ie=function(){return e},e}function Ce(){var e=Object(i.a)(["\n  text-align: left;\n"]);return Ce=function(){return e},e}function Se(){var e=Object(i.a)(["\n  margin-top: 16px;\n  margin-bottom: 16px;\n"]);return Se=function(){return e},e}var Ae=d.b.div(Se()),Me=d.b.div(Ce()),Te=d.b.div(Ie(),(function(e){return e.active?"rgb(255,170,100)":"rgb(254, 250, 170)"})),Re=function(e){var t=e.id,n=Object(u.b)(),c=W(),o=c.subscribe,i=c.unsubscribe,l=Object(a.useContext)(X),s=Object(b.a)(l,2),d=s[0],f=(s[1],Object(u.c)((function(e){return e.users.users})));Object(a.useCallback)((function(){return f}));return Object(a.useEffect)((function(){t&&(o("".concat(q,"/").concat(t,"/getUsers"),(function(e,n){n.from&&n.from!==d.userId&&V("".concat(q,"/").concat(t,"/setUsers"),ge.getState().users.users)})),o("".concat(q,"/").concat(t,"/setUsers"),(function(e,t){n({type:Y,payload:{value:t}})})),o("".concat(q,"/").concat(t,"/enterLobby"),(function(e,t){n(function(e,t){return{type:F,payload:{id:e,name:t}}}(t.userId,"anonymous "))})),o("".concat(q,"/").concat(t,"/alive"),(function(e,t){var a;n((a=t.userId,{type:$,payload:{value:a}}))})),V("".concat(q,"/").concat(t,"/getUsers"),{from:d.userId}),setInterval((function(){V("".concat(q,"/").concat(t,"/alive"),{userId:d.userId})}),3e4))}),[t],(function(){i("".concat(q,"/").concat(t,"/getUsers"))})),r.a.createElement(Ae,null,r.a.createElement(Me,null,f.map((function(e,t){f.length;return r.a.createElement(U.a,{key:e.id,title:e.name,placement:"right-start"},r.a.createElement(Te,{key:e.id,active:d.userId===e.id}))}))))};function Ne(){var e=Object(i.a)([""]);return Ne=function(){return e},e}function _e(){var e=Object(i.a)(["\n  margin-top: 24px !important;\n  display: flex;\n  flex-direction: row-reverse;\n"]);return _e=function(){return e},e}function De(){var e=Object(i.a)([""]);return De=function(){return e},e}var Ue=d.b.div(De()),ze=d.b.section(_e()),Be=Object(d.b)(f.a)(Ne()),He=function(e){var t=e.onEnter,n=W(),c=(n.subscribe,n.publish),o=(n.getClient,Object(a.useState)("")),i=Object(b.a)(o,2),u=i[0],l=i[1],s=Object(a.useContext)(X),d=Object(b.a)(s,1)[0];return r.a.createElement(Ue,null,r.a.createElement("div",null,"hello, ",r.a.createElement("br",null),"please enter your name and enjoy the show."),r.a.createElement(p.a,{fullWidth:!0,label:"name",value:u,onChange:function(e){l(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&(c("".concat(q,"/").concat(d.hallId,"/setUserName"),{id:d.userId,name:u}),l(""),t(u))}}),r.a.createElement("br",null),r.a.createElement(ze,null,r.a.createElement(Be,{color:"primary",variant:"outlined",onClick:function(){c("".concat(q,"/").concat(d.hallId,"/setUserName"),{id:d.userId,name:u}),l(""),t(u)}},"enter")))},Je=144,We=128,qe=n(881),Pe=n.n(qe),Ve=n(882),Ke=n.n(Ve),Le=(n(1),n(883)),Ge=n(22),Xe=n(908);Object(Ge.e)(Le);var Fe=function(e){e.analyzer;return Object(Ge.f)((function(){})),r.a.createElement(r.a.Fragment,null,r.a.createElement(Xe.a,{color:"white",anchorX:"center",anchorY:"middle"},"here will be an audio visualisation"))},Ye=n(905);function $e(){var e=Object(i.a)(["\n  width: 100%;\n  height: 66.66%;\n"]);return $e=function(){return e},e}var Qe=d.b.div($e()),Ze=function(e){var t=e.id,n=Object(a.useState)(null),c=Object(b.a)(n,2),o=(c[0],c[1]),i=Object(a.useState)(null),u=Object(b.a)(i,2),l=u[0],s=u[1],d=Object(a.useState)(null),f=Object(b.a)(d,2),p=f[0],h=f[1],v=Object(a.useState)(null),g=Object(b.a)(v,2),O=g[0],j=g[1],E=Object(a.useState)(null),y=Object(b.a)(E,2),w=y[0],x=y[1],k=Object(a.useState)(null),I=Object(b.a)(k,2),C=I[0],S=I[1],A=Object(a.useState)(null),M=Object(b.a)(A,2),T=M[0],R=M[1],N=Object(a.useState)([]),_=Object(b.a)(N,2),D=(_[0],_[1]),U=W(),z=U.subscribe,B=U.unsubscribe;return Object(a.useEffect)((function(){var e=new m.b;e.connect(m.c),o(e);var t=new m.a;e.connect(t),s(t),setInterval((function(){t&&D(t.getValue())}),50);var n=new m.i({C3:Pe.a}),a=new m.e(.6,5e3),r=new m.h({delayTime:"32n",feedback:.7,wet:.25});n.volume.value=0,n.connect(r),r.connect(a),a.connect(e),h(n);var c=new m.i({C3:Ke.a});c.volume.value=0,c.connect(e),j(c);var i=new m.d({volume:0,detune:0,portamento:0,harmonicity:3,oscillator:{partialCount:0,partials:[],phase:0,type:"sine"},envelope:{attack:.01,attackCurve:"linear",decay:.2,decayCurve:"exponential",release:.5,releaseCurve:"exponential",sustain:1},modulation:{partialCount:0,partials:[],phase:0,type:"square"},modulationEnvelope:{attack:.2,attackCurve:"linear",decay:.01,decayCurve:"exponential",release:.5,releaseCurve:"exponential",sustain:1},modulationIndex:12.22});i.connect(e),x(i);var u=new m.f({frequency:200,envelope:{attack:.001,decay:1.4,release:.2},harmonicity:5.1,modulationIndex:32,resonance:4e3,octaves:1.5});u.connect(e),S(u);var l=new m.g;l.connect(e),R(l)}),[]),Object(a.useEffect)((function(){z("".concat(q,"/").concat(t,"/orchestra"),(function(e,t){var n=t.channel,a=t.note,r=t.status;switch(n){case 1:p&&p.triggerAttackRelease(a);break;case 2:O&&O.triggerAttackRelease(a);break;case 3:w&&r===Je&&w.triggerAttack(a),w&&r===We&&w.triggerRelease(a);break;case 4:C&&r===Je&&C.triggerAttack(a),C&&r===We&&C.triggerRelease(a);break;case 5:T&&r===Je&&T.triggerAttack(),T&&r===We&&T.triggerRelease()}}))}),[p,O,t],(function(){B("".concat(q,"/").concat(t,"/orchestra"))})),r.a.createElement(Qe,null,r.a.createElement(Ge.a,{style:{background:"rgb(0,0,0)"},camera:{position:[0,0,10],fov:25}},r.a.createElement(Ye.a,null),r.a.createElement(Fe,{analyzer:l})))},et=n(892),tt=n.n(et),nt=n(893),at=n.n(nt),rt=n(894),ct=n.n(rt),ot=n(895),it=n.n(ot),ut=n(896),lt=n.n(ut),st=n(897),dt=n.n(st),bt=n(203),ft=n.n(bt),pt=n(898),mt=n.n(pt),ht=n(899),vt=n.n(ht),gt=n(900),Ot=n.n(gt),jt=n(901),Et=n.n(jt),yt=n(902),wt=n.n(yt),xt=n(903),kt=n.n(xt);function It(){var e=Object(i.a)(["\n  color: white;\n"]);return It=function(){return e},e}function Ct(){var e=Object(i.a)(["\n  background-color: rgba(254, 250, 170, 1);\n  border: none;\n  color: white;\n  height: 50px;\n  width: 50px;\n  text-align: center;\n  text-decoration: none;\n  display: inline-block;\n  font-size: 16px;\n  margin: 5px;\n  /* border-radius: 50%; */\n"]);return Ct=function(){return e},e}function St(){var e=Object(i.a)(["\n  display: inline-block;\n  text-align: center;\n  width: 100%;\n  /* border: 1px dashed white; */\n"]);return St=function(){return e},e}var At=d.b.div(St()),Mt=d.b.button(Ct()),Tt=d.b.span(It()),Rt=function(e){var t=e.label,n=e.onClick;return r.a.createElement(At,null,r.a.createElement(Mt,{onClick:n}),r.a.createElement("br",null),r.a.createElement(Tt,null,t))};function Nt(){var e=Object(i.a)(["\n  background-color: black;\n  display: flex;\n  flex-direction: column;\n"]);return Nt=function(){return e},e}var _t=d.b.div(Nt()),Dt=["applaude","talk","photograph","walk","sneeze","cough","dance","shout","singAlong","phone"],Ut=new m.b(-32),zt=new m.j(0);Ut.connect(zt),zt.connect(m.c);var Bt=new m.i({C3:tt.a});Bt.connect(Ut);var Ht=function(){var e=Object(a.useContext)(X),t=Object(b.a)(e,1)[0],n=W(),c=n.subscribe,o=n.publish,i=n.getClient,l=Object(a.useState)(null),s=Object(b.a)(l,2),d=s[0],f=s[1],p=Object(a.useState)(null),h=Object(b.a)(p,2),v=h[0],g=h[1],O=Object(a.useState)(null),j=Object(b.a)(O,2),E=j[0],y=j[1],w=Object(a.useState)(null),x=Object(b.a)(w,2),k=x[0],I=x[1],C=Object(a.useState)(null),S=Object(b.a)(C,2),A=S[0],T=S[1],R=Object(a.useState)(null),N=Object(b.a)(R,2),_=N[0],D=N[1],U=Object(a.useState)(null),z=Object(b.a)(U,2),B=z[0],H=z[1],J=Object(a.useState)(null),P=Object(b.a)(J,2),V=P[0],K=P[1],L=Object(a.useState)(null),G=Object(b.a)(L,2),F=G[0],Y=G[1],$=Object(a.useState)(null),Q=Object(b.a)($,2),Z=Q[0],ee=Q[1],te=Object(a.useState)(null),ne=Object(b.a)(te,2),ae=ne[0],re=ne[1],ce=Object(u.b)(),oe=Object(u.c)((function(e){return e.mixer.volumeInteractions}));return Ut&&(Ut.volume.value=oe),Object(a.useEffect)((function(){var e=new m.i({C3:dt.a});e.connect(Ut),T(e);var t=new m.i({C2:at.a,C3:ct.a,C4:it.a});t.connect(Ut),y(t);var n=new m.i({C3:lt.a});n.connect(Ut),I(n);var a=new m.i({C3:ft.a});a.connect(Ut),f(a);var r=new m.i({C3:ft.a});r.connect(Ut),g(r);var c=new m.i({C3:Ot.a});c.connect(Ut),D(c);var o=new m.i({C3:Et.a});o.connect(Ut),H(o);var u=new m.i({C3:wt.a});u.connect(Ut),ee(u);var l=new m.i({C3:kt.a});l.connect(Ut),re(l);var s=new m.i({C3:mt.a});s.connect(Ut),K(s);var d=new m.i({C3:vt.a});d.connect(Ut),Y(d),i().on("connect",(function(){}))}),[]),Object(a.useEffect)((function(){c("".concat(q,"/").concat(t.hallId,"/applaude"),(function(e,t){Bt.triggerAttackRelease(40+Math.round(60*Math.random()),20),ce(ue(t.userId,"applauded"))})),c("".concat(q,"/").concat(t.hallId,"/talk"),(function(e,t){E.triggerAttackRelease(20+Math.round(60*Math.random()),20),ce(ue(t.userId,"talked"))})),c("".concat(q,"/").concat(t.hallId,"/shout"),(function(e,t){k.triggerAttackRelease(40+Math.round(60*Math.random()),20),ce(ue(t.userId,"shouted"))})),c("".concat(q,"/").concat(t.hallId,"/singAlong"),(function(e,t){A.triggerAttackRelease(40+Math.round(60*Math.random()),20),ce(ue(t.userId,"sang along"))})),c("".concat(q,"/").concat(t.hallId,"/enter"),(function(e,t){d.triggerAttackRelease(72,20),ce(ue(t.userId,"entered"))})),c("".concat(q,"/").concat(t.hallId,"/leave"),(function(e,t){console.log("user left",t),ce(ue(t.userId,"left"))})),c("".concat(q,"/").concat(t.hallId,"/photograph"),(function(e,t){_.triggerAttackRelease(40+Math.round(60*Math.random()),20),ce(ue(t.userId,"took a photo"))})),c("".concat(q,"/").concat(t.hallId,"/phone"),(function(e,t){B.triggerAttackRelease(40+Math.round(60*Math.random()),20),ce(ue(t.userId,"took a phone call"))})),c("".concat(q,"/").concat(t.hallId,"/walk"),(function(e,t){Z.triggerAttackRelease(40+Math.round(60*Math.random()),20),ce(ue(t.userId,"walked"))})),c("".concat(q,"/").concat(t.hallId,"/dance"),(function(e,t){ae.triggerAttackRelease(40+Math.round(60*Math.random()),20),ce(ue(t.userId,"danced"))})),c("".concat(q,"/").concat(t.hallId,"/sneeze"),(function(e,t){V.triggerAttackRelease(40+Math.round(60*Math.random()),20),ce(ue(t.userId,"sneezed"))})),c("".concat(q,"/").concat(t.hallId,"/cough"),(function(e,t){F.triggerAttackRelease(50+Math.round(60*Math.random()),20),ce(ue(t.userId,"coughed"))}))}),[t.hallId,E,A,Z,B,_,ae,F,V,d,v]),r.a.createElement(_t,null,r.a.createElement(ke,{title:"actions",color:"rgb(46, 94, 160)"},r.a.createElement(M.a,{container:!0},Dt.map((function(e){return r.a.createElement(M.a,{item:!0,xs:2},r.a.createElement(Rt,{key:e,variant:"outlined",color:"primary",onClick:function(){o("".concat(q,"/").concat(t.hallId,"/").concat(e),{userId:t.userId})},label:e}))})))))},Jt=n(1117);function Wt(){var e=Object(i.a)(["\n  height: 50px !important;\n"]);return Wt=function(){return e},e}function qt(){var e=Object(i.a)(["\n  background-color: black;\n  display: flex;\n  flex-direction: row;\n  height: 100%;\n  width: 100%;\n"]);return qt=function(){return e},e}var Pt=d.b.div(qt()),Vt=Object(d.b)(Jt.a)(Wt()),Kt=function(){var e=Object(u.b)();return r.a.createElement(Pt,null,r.a.createElement(M.a,{container:!0},r.a.createElement(M.a,{item:!0,xs:6},r.a.createElement(ke,{title:"light",color:"rgb(220, 46, 40)"})),r.a.createElement(M.a,{item:!0,xs:6},r.a.createElement(ke,{title:"audio",color:"rgb(220, 46, 40)"},r.a.createElement(Vt,{orientation:"vertical",defaultValue:-100,min:-100,max:0,onChange:function(t,n){e(function(e){return{type:ne,payload:{value:e}}}(n))},"aria-labelledby":"vertical-slider"}),r.a.createElement(Vt,{orientation:"vertical",defaultValue:-100,min:-100,max:0,onChange:function(e,t){},"aria-labelledby":"vertical-slider"})))))};n(1110);function Lt(){var e=Object(i.a)(["\n  list-style-type: none;\n"]);return Lt=function(){return e},e}function Gt(){var e=Object(i.a)(["\n  font-weight: bold;\n  color: #333;\n"]);return Gt=function(){return e},e}function Xt(){var e=Object(i.a)(["\n  font-style: italic;\n  color: #333;\n"]);return Xt=function(){return e},e}function Ft(){var e=Object(i.a)(["\n  width: 100%;\n  flex-grow: 1;\n  overflow-y: scroll;\n"]);return Ft=function(){return e},e}d.b.div(Ft()),d.b.span(Xt()),d.b.span(Gt()),d.b.ul(Lt());function Yt(){var e=Object(i.a)(["\n  list-style-type: none;\n"]);return Yt=function(){return e},e}function $t(){var e=Object(i.a)(["\n  font-weight: bold;\n  color: #333;\n"]);return $t=function(){return e},e}function Qt(){var e=Object(i.a)(["\n  font-style: italic;\n  color: #333;\n"]);return Qt=function(){return e},e}function Zt(){var e=Object(i.a)(["\n  position: absolute;\n  bottom: 0;\n  width: 100%;\n"]);return Zt=function(){return e},e}function en(){var e=Object(i.a)(["\n  width: 33vw;\n  height: 50vh;\n  position: absolute;\n  top: 0;\n  right: 0;\n  flex-grow: 1;\n  overflow-y: scroll;\n  background-color: white;\n  color: black;\n  z-index: 1101;\n"]);return en=function(){return e},e}var tn=d.b.div(en()),nn=d.b.div(Zt());d.b.span(Qt()),d.b.span($t()),d.b.ul(Yt());function an(){var e=Object(i.a)(["\n  position: absolute;\n  right: 0;\n  top: 0;\n  width: 33vw;\n"]);return an=function(){return e},e}function rn(){var e=Object(i.a)(["\n  background-color: white;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n"]);return rn=function(){return e},e}function cn(){var e=Object(i.a)(["\n  width: 100%;\n  height: 100%;\n"]);return cn=function(){return e},e}function on(){var e=Object(i.a)(["\n  width: 100%;\n  height: 100%;\n"]);return on=function(){return e},e}var un=d.b.div(on()),ln=Object(d.b)(R.a)(cn()),sn=d.b.div(rn()),dn=Object(d.b)((function(){var e=Object(a.useState)(""),t=Object(b.a)(e,2),n=t[0],c=t[1],o=(Object(u.c)((function(e){return e.console.history})),Object(a.useContext)(X)),i=Object(b.a)(o,1)[0],l=Object(u.b)(),s=Object(u.c)((function(e){return e.chat.messages})),d=Object(u.c)((function(e){return e.users.users})),m=W(),h=m.subscribe,v=m.publish;m.getClient;return Object(a.useEffect)((function(){i.userId&&i.hallId&&h("vgig/".concat(i.hallId,"/chat"),(function(e,t){var n,a;l((n=t.sender,a=t.message,{type:re,payload:{message:{sender:n,text:a}}}))}))}),[i]),r.a.createElement(tn,null,r.a.createElement(ke,{title:"chat/console",color:"rgb(46, 94, 160)"},r.a.createElement("ul",null,s.map((function(e,t){var n;return d.forEach((function(t){t.id===e.sender&&(n=t.name)})),r.a.createElement("li",{key:t},n,": ",e.text)}))),r.a.createElement(nn,null,r.a.createElement(M.a,{container:!0,spacing:2},r.a.createElement(M.a,{item:!0,xs:9},r.a.createElement(p.a,{fullWidth:!0,value:n,onChange:function(e){return c(e.target.value)},onKeyPress:function(e){"Enter"!==e.key||e.shiftKey||(e.preventDefault(),v("vgig/".concat(i.hallId,"/chat"),{sender:i.userId,message:n}),c(""))}})),r.a.createElement(M.a,{item:!0,xs:3},r.a.createElement(f.a,{color:"primary",variant:"outlined",fullWidth:!0,onClick:function(e){""!==n&&v("vgig/".concat(i.hallId,"/chat"),{sender:i.userId,message:n}),c("")}},"send"))))))}))(an()),bn=function(){var e=Object(s.g)().id,t=Object(a.useContext)(X),n=Object(b.a)(t,2),c=n[0],o=n[1],i=W(),l=i.publish,d=i.subscribe,f=Object(u.b)(),p=Object(a.useState)(!0),m=Object(b.a)(p,2),h=m[0],v=m[1],g=Object(a.useState)(!1),O=Object(b.a)(g,2),j=O[0],E=O[1];return Object(a.useEffect)((function(){o(Object(S.a)({},c,{hallId:e})),l("".concat(q,"/").concat(e,"/enterLobby"),{userId:c.userId}),d("".concat(q,"/").concat(e,"/setUserName"),(function(e,t){f(function(e,t){return{type:Q,payload:{id:e,name:t}}}(t.id,t.name))}))}),[e]),r.a.createElement(un,null,r.a.createElement(A.a,{position:"sticky",style:{backgroundColor:"transparent"}},r.a.createElement(N.a,null,r.a.createElement(T.a,{color:"primary",onClick:function(e){E(!j)}},r.a.createElement(D.a,null)))),r.a.createElement(ln,{open:h},r.a.createElement(sn,null,r.a.createElement(He,{onEnter:function(e){l("".concat(q,"/").concat(c.hallId,"/enter"),{userId:c.userId,name:e}),v(!1)}}))),r.a.createElement(r.a.Fragment,null,r.a.createElement(Ze,{className:"orchestra",id:e}),r.a.createElement(Re,{className:"audience",id:e}),r.a.createElement(M.a,{container:!0},r.a.createElement(M.a,{item:!0,xs:12,sm:8},r.a.createElement(Ht,{className:"interactions",id:e})),r.a.createElement(M.a,{item:!0,xs:12,sm:4},r.a.createElement(Kt,null))),j&&r.a.createElement(dn,null)))};function fn(){var e=Object(i.a)(["\n  width: 100vw;\n  height: 100vh;\n"]);return fn=function(){return e},e}var pn=d.b.div(fn()),mn=function(){return r.a.createElement(pn,null,r.a.createElement(u.a,{store:ge},r.a.createElement(l.a,null,r.a.createElement(s.c,null,r.a.createElement(s.a,{path:"/halls/:id"},r.a.createElement(G,{value:X},r.a.createElement(bn,null))),r.a.createElement(s.a,{path:"/"},r.a.createElement(C,null))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(mn,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},203:function(e,t,n){e.exports=n.p+"static/media/enter.339b495d.mp3"},873:function(e){e.exports=JSON.parse('{"name":"vgig","homepage":"https://thomasgeissl.github.io/vgig","version":"0.1.0","private":true,"dependencies":{"@material-ui/core":"^4.11.0","@material-ui/icons":"^4.9.1","@react-three/drei":"^2.2.0","@testing-library/jest-dom":"^4.2.4","@testing-library/react":"^9.3.2","@testing-library/user-event":"^7.1.2","date-fns":"^2.16.1","drei":"^1.5.7","gh-pages":"^3.1.0","mqtt":"^4.2.1","nosleep.js":"^0.11.0","react":"^16.13.1","react-dom":"^16.13.1","react-redux":"^7.2.1","react-router-dom":"^5.2.0","react-scripts":"3.4.3","react-spring":"^8.0.27","react-three-fiber":"^5.0.1","redux":"^4.0.5","redux-observable":"^1.2.0","styled-components":"^5.2.0","three":"^0.120.1","threejs-meshline":"^2.0.12","tone":"^14.7.39","troika-three-text":"^0.34.1","typescript":"^4.0.3"},"scripts":{"start":"react-scripts start","build":"react-scripts build","test":"react-scripts test","eject":"react-scripts eject","deploy":"yarn build && gh-pages -d build","travisdeploy":"CI=false yarn build && gh-pages -d build -r https://$GH_TOKEN@github.com/thomasgeissl/vgig.git"},"eslintConfig":{"extends":"react-app"},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]}}')},881:function(e,t,n){e.exports=n.p+"static/media/unacorda_C3.4c254059.mp3"},882:function(e,t,n){e.exports=n.p+"static/media/jarbleambiencepad_C3.3312bc03.mp3"},892:function(e,t,n){e.exports=n.p+"static/media/clapping.31212348.mp3"},893:function(e,t,n){e.exports=n.p+"static/media/talk_C2.4fdd1dcf.mp3"},894:function(e,t,n){e.exports=n.p+"static/media/talk_C3.f2a775cc.mp3"},895:function(e,t,n){e.exports=n.p+"static/media/talk_C4.cfab9d69.mp3"},896:function(e,t,n){e.exports=n.p+"static/media/shout.b39ade0c.mp3"},897:function(e,t,n){e.exports=n.p+"static/media/singAlong.6896ef66.mp3"},898:function(e,t,n){e.exports=n.p+"static/media/sneeze.62f3207f.mp3"},899:function(e,t,n){e.exports=n.p+"static/media/cough.9e20177b.mp3"},900:function(e,t,n){e.exports=n.p+"static/media/photograph.437bf6fd.mp3"},901:function(e,t,n){e.exports=n.p+"static/media/phone.9417a5f0.mp3"},902:function(e,t,n){e.exports=n.p+"static/media/walk.6a028ea7.mp3"},903:function(e,t,n){e.exports=n.p+"static/media/dance.b39ade0c.mp3"},935:function(e,t,n){e.exports=n(1066)},939:function(e,t,n){},955:function(e,t){},957:function(e,t){}},[[935,1,2]]]);
//# sourceMappingURL=main.c131aa31.chunk.js.map